<!-- HERO -->
<section class="hero-gradient text-center text-white py-5 py-lg-6">
  <div class="container">
    <h1 class="display-5 fw-medium mb-3">
      {{ "HOME.HERO.TITLE" | translate }}
    </h1>
    <p class="lead mb-4 mx-auto hero-sub">
      {{ "HOME.HERO.DESCRIPTION" | translate }}
    </p>

    <div class="d-flex gap-3 justify-content-center">
      <button class="btn btn-light text-primary fw-semibold px-3 py-2 rounded-3 btn-start-now" (click)="primaryCta()">
        <i class="bi bi-lightning-charge-fill me-1"></i> {{ "HOME.HERO.BTN.LABEL" | translate }}
      </button>
    </div>
  </div>
</section>

<!-- STATS -->
<section class="bg-page-light">
  <div class="container py-4">
    <div class="row g-3">
      @for (s of stats(); track s) {
        <div class="col-6 col-md-3">
          <div class="card stat-card border-0 rounded-4 text-center">
            <div class="card-body py-4">
              <div class="icon-wrap mx-auto mb-2"><i class="bi" [ngClass]="s.icon"></i></div>
              <div class="fs-4 fw-bold">{{ s.value }}</div>
              <div class="text-muted small">{{ s.label | translate }}</div>
            </div>
          </div>
        </div>
      }
    </div>
  </div>
</section>

<!-- FONCTIONNALITÉS -->
<section class="py-5 bg-section">
  <div class="container">
    <h2 class="h4 fw-bold text-center">{{ "HOME.FUNCTIONALITY.TITLE" | translate }}</h2>
    <p class="text-muted text-center mb-4">
      {{ "HOME.FUNCTIONALITY.DESCRIPTION" | translate }}
    </p>

    <div class="row g-3">
      @for (f of features(); track f) {
        <div class="col-12 col-md-6 col-lg-4">
          <div class="card feature-card rounded-4 border-0 h-100">
            <div class="card-body">
              <div class="feature-icon"><i class="bi" [ngClass]="f.icon"></i></div>
              <div class="fw-semibold mb-1">{{ f.title | translate }}</div>
              <div class="text-muted small">{{ f.desc | translate }}</div>
            </div>
          </div>
        </div>
      }
    </div>
  </div>
</section>

<!-- ACTIVITÉ EN DIRECT -->
<section class="py-5">
  <div class="container">
    <h2 class="h4 fw-bold text-center">{{ "HOME.ACTIVITY.TITLE" | translate }}</h2>
    <p class="text-muted text-center mb-4">{{ "HOME.ACTIVITY.DESC" | translate }}</p>

    <div class="row d-flex flex-column align-items-center">
      <!-- Parties en cours -->
      <div class="col-lg-10 mb-4">
        <div class="card rounded-4 border-0 card-elev">
          <div class="card-body p-4">
            <h3 class="h6 fw-bold mb-3">{{ "HOME.ACTIVITY.PARTIE.EN.COURS" | translate }}</h3>

            <div class="vstack gap-2">
              @for (m of liveMatches(); track m) {
                <div
                  class="live-row border rounded-4 p-3 bg-white d-flex align-items-center">
                  <div class="d-flex align-items-center gap-2 me-auto">
                    <span class="dot"
                          [class.bg-success]="m.tagColor==='success'"
                          [class.bg-warning]="m.tagColor==='warning'"
                          [class.bg-danger]="m.tagColor==='danger'"
                          [class.bg-secondary]="m.tagColor==='secondary'"></span>
                    <span class="fw-semibold">{{ m.table }}</span>
                  </div>

                  <div class="text-end">
                    @if (m.status === 'En cours') {
                      <div class="fw-bold">{{ m.scoreLeft }} - {{ m.scoreRight }}</div>
                      <div class="small text-muted">{{ m.since }}</div>
                    } @else {
                      <span class="badge bg-secondary-subtle text-secondary rounded-pill">{{ "HOME.ACTIVITY.DISPO" | translate }}</span>
                    }
                  </div>
                </div>
              }
            </div>
          </div>
        </div>
      </div>

      <!-- Top joueurs -->
      <div class="col-lg-10">
        <div class="card rounded-4 border-0 card-elev">
          <div class="card-body p-4">
            <h3 class="h6 fw-bold mb-3">{{ "HOME.PLAYER.TITLE" | translate }}</h3>

            <div class="vstack gap-2">
              @for (p of topPlayers(); track p) {
                <div class="border rounded-4 p-3 bg-white d-flex align-items-center">
                  <div class="rank me-3">{{ p.rank }}</div>
                  <img [src]="p.avatar" [alt]="p.name" class="rounded-circle me-3" width="40" height="40">
                  <div class="flex-grow-1">
                    <div class="fw-semibold">{{ p.name }}</div>
                    <div class="text-muted small">{{ p.wins }} {{ "HOME.PLAYER.VICTORY" | translate }}</div>
                  </div>
                  <div class="fw-bold text-primary">{{ p.points | number }}</div>
                </div>
              }
            </div>

          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- CTA FINAL -->
<section class="hero-gradient hero-cta text-center text-white py-5">
  <div class="container">
    <h2 class="h4 fw-bold">{{ "HOME.HERO_FOOTER.TITLE" | translate}}</h2>
    <p>{{ "HOME.HERO_FOOTER.DESC" | translate}}</p>
  </div>
</section>
